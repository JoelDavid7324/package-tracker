<app-navbar></app-navbar>

<section class="track-history">
    <h3 class="track-history__title">Rastreador de Mercancías</h3>
    <div class="searchBar items-center">
        <input class="searchBar__input--placeholder" type="text" name="id" placeholder="Inserte un id">
        <input class="searchBar__input--placeholder" type="number" name="date" placeholder="Año">
        <input type="button" value="Buscar">
    </div>
    @if (product()) {
    <span>País de Origen <b>{{product().origin_country}}</b></span>
    }
    <div class="stateBar">
        <div class="stateBar__startPoint--smallCircle"></div>
        <div class="stateBar__line--maxWidth"></div>
        <div class="stateBar__number stateBar__1"
            [ngStyle]="{'animation-play-state': indexOfLastState() >= 0 ? 'running':''}">
            <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <path
                        d="M16 4.00195C18.175 4.01406 19.3529 4.11051 20.1213 4.87889C21 5.75757 21 7.17179 21 10.0002V16.0002C21 18.8286 21 20.2429 20.1213 21.1215C19.2426 22.0002 17.8284 22.0002 15 22.0002H9C6.17157 22.0002 4.75736 22.0002 3.87868 21.1215C3 20.2429 3 18.8286 3 16.0002V10.0002C3 7.17179 3 5.75757 3.87868 4.87889C4.64706 4.11051 5.82497 4.01406 8 4.00195"
                        stroke="#fff" stroke-width="1.5"></path>
                    <path d="M10.5 14L17 14" stroke="#fff" stroke-width="1.5" stroke-linecap="round"></path>
                    <path d="M7 14H7.5" stroke="#fff" stroke-width="1.5" stroke-linecap="round"></path>
                    <path d="M7 10.5H7.5" stroke="#fff" stroke-width="1.5" stroke-linecap="round"></path>
                    <path d="M7 17.5H7.5" stroke="#fff" stroke-width="1.5" stroke-linecap="round"></path>
                    <path d="M10.5 10.5H17" stroke="#fff" stroke-width="1.5" stroke-linecap="round"></path>
                    <path d="M10.5 17.5H17" stroke="#fff" stroke-width="1.5" stroke-linecap="round"></path>
                    <path
                        d="M8 3.5C8 2.67157 8.67157 2 9.5 2H14.5C15.3284 2 16 2.67157 16 3.5V4.5C16 5.32843 15.3284 6 14.5 6H9.5C8.67157 6 8 5.32843 8 4.5V3.5Z"
                        stroke="#fff" stroke-width="1.5"></path>
                </g>
            </svg>
        </div>
        <div class="stateBar__number stateBar__2"
            [ngStyle]="{'animation-play-state': indexOfLastState() >= 1 ? 'running':''}">
            <svg fill="#fff" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve" stroke="#fff">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <g>
                        <g>
                            <path
                                d="M395.583,139.041h-54.69c-4.656,0-8.429,3.774-8.429,8.429v93.881c0,4.655,3.773,8.429,8.429,8.429h107.49 c4.656,0,8.429-3.774,8.429-8.429v-41.095C456.812,166.503,429.344,139.041,395.583,139.041z M349.322,232.923V155.9h46.261 c24.467,0,44.37,19.899,44.37,44.357v32.666H349.322z">
                            </path>
                        </g>
                    </g>
                    <g>
                        <g>
                            <path
                                d="M122.503,349.479c-16.375,0-29.698,13.323-29.698,29.698s13.323,29.698,29.698,29.698s29.698-13.323,29.698-29.698 S138.878,349.479,122.503,349.479z M122.503,392.016c-7.079,0-12.839-5.76-12.839-12.839c0-7.079,5.76-12.839,12.839-12.839 s12.839,5.76,12.839,12.839C135.343,386.257,129.583,392.016,122.503,392.016z">
                            </path>
                        </g>
                    </g>
                    <g>
                        <g>
                            <path
                                d="M390.496,349.479c-16.375,0-29.699,13.323-29.699,29.698s13.323,29.698,29.699,29.698s29.698-13.323,29.698-29.698 S406.871,349.479,390.496,349.479z M390.496,392.016c-7.081,0-12.84-5.76-12.84-12.839c0-7.079,5.76-12.839,12.84-12.839 c7.079,0,12.839,5.76,12.839,12.839C403.335,386.257,397.575,392.016,390.496,392.016z">
                            </path>
                        </g>
                    </g>
                    <g>
                        <g>
                            <path
                                d="M448.383,280.196c-4.656,0-8.429,3.774-8.429,8.429v25.301c0,4.655,3.773,8.429,8.429,8.429s8.429-3.774,8.429-8.429 v-25.301C456.812,283.97,453.038,280.196,448.383,280.196z">
                            </path>
                        </g>
                    </g>
                    <g>
                        <g>
                            <path
                                d="M503.571,346.908h-6.81v-146.65c0-55.782-45.388-101.165-101.179-101.165h-86.211V79.557c0-4.655-3.773-8.429-8.429-8.429 H29.288c-4.655,0-8.429,3.774-8.429,8.429v34.011c0,4.655,3.774,8.429,8.429,8.429c4.655,0,8.429-3.774,8.429-8.429V87.986 h254.797v186.992h-18.527c-4.656,0-8.429,3.774-8.429,8.429s3.773,8.429,8.429,8.429h18.527v78.911H183.607 c-4.125-30.043-29.946-53.266-61.105-53.266s-56.979,23.223-61.104,53.266H37.717v-6.982h8.429c4.655,0,8.429-3.774,8.429-8.429 s-3.774-8.429-8.429-8.429h-8.429v-55.071h208.172c4.655,0,8.429-3.774,8.429-8.429s-3.774-8.429-8.429-8.429H37.717V141.666 c0-4.655-3.774-8.429-8.429-8.429c-4.655,0-8.429,3.774-8.429,8.429v205.242H8.429c-4.655,0-8.429,3.774-8.429,8.429 c0,4.655,3.774,8.429,8.429,8.429h12.429v15.411c0,4.655,3.774,8.429,8.429,8.429h32.111 c4.125,30.043,29.946,53.266,61.105,53.266c31.159,0,56.979-23.223,61.105-53.266h145.783 c4.125,30.043,29.947,53.266,61.105,53.266c31.158,0,56.979-23.223,61.104-53.266h36.732c4.656,0,8.429-3.774,8.429-8.429v-15.411 h6.81c4.656,0,8.429-3.774,8.429-8.429C512,350.682,508.227,346.908,503.571,346.908z M122.503,424.014 c-24.723,0-44.837-20.113-44.837-44.837c0-24.723,20.113-44.837,44.837-44.837c24.723,0,44.837,20.113,44.837,44.837 C167.34,403.9,147.226,424.014,122.503,424.014z M390.496,424.014c-24.719,0-44.829-20.106-44.837-44.822 c0-0.005,0.001-0.01,0.001-0.015c0-0.004-0.001-0.01-0.001-0.015c0.008-24.717,20.119-44.822,44.837-44.822 c24.722,0,44.837,20.113,44.837,44.837C435.332,403.9,415.218,424.014,390.496,424.014z M479.903,370.748h-28.304 c-4.125-30.043-29.946-53.266-61.104-53.266c-31.158,0-56.98,23.223-61.105,53.266h-20.019V115.951h86.211 c46.494,0,84.32,37.82,84.32,84.307v146.65h-14.049c-4.656,0-8.429,3.774-8.429,8.429c0,4.655,3.773,8.429,8.429,8.429h14.05 V370.748z">
                            </path>
                        </g>
                    </g>
                </g>
            </svg>
        </div>
        <div class="stateBar__number stateBar__3"
            [ngStyle]="{'animation-play-state': indexOfLastState() >= 2 ? 'running':''}">
            <svg fill="#fff" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 612.001 612.001" xml:space="preserve"
                stroke="#fff">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <g>
                        <path
                            d="M40.121,105.553c-11.42-34.613,7.447-72.068,42.064-83.49s72.07,7.451,83.49,42.064l129.897,393.695 c-12.105-3.196-24.979-3.781-37.831-1.431L131.984,75.244c-5.292-16.04-22.643-24.781-38.682-19.489 c-16.04,5.292-24.781,22.643-19.489,38.682c3.069,9.303-1.984,19.335-11.288,22.404C53.222,119.91,43.191,114.856,40.121,105.553z M551.913,414.393l-212.828,70.222c7.553,8.575,13.54,18.769,17.342,30.288c0.135,0.411,0.211,0.826,0.34,1.238l206.263-68.056 c9.303-3.069,14.357-13.101,11.288-22.403C571.248,416.377,561.215,411.323,551.913,414.393z M339.582,520.465 c12.059,36.547-7.794,75.949-44.34,88.008c-36.547,12.059-75.949-7.793-88.008-44.34c-12.059-36.548,7.794-75.949,44.34-88.008 C288.121,464.065,327.524,483.918,339.582,520.465z M306.495,531.381c-6.029-18.273-25.729-28.198-44.004-22.169 c-18.273,6.028-28.199,25.73-22.17,44.003c6.029,18.273,25.73,28.199,44.004,22.171 C302.598,569.356,312.524,549.654,306.495,531.381z M498.127,147.345l72.256,218.997c1.535,4.651-0.992,9.667-5.644,11.202 l-227.42,75.035c-4.651,1.535-9.667-0.992-11.201-5.644l-72.256-218.997c-1.535-4.652,0.992-9.667,5.644-11.202l227.419-75.036 C491.577,140.167,496.592,142.693,498.127,147.345z M468.044,274.559l-77.438-42.605l-36.864,80.319l24.407,11.233l15.939-34.747 l28.781,87.232l27.545-9.088l-28.777-87.219l33.477,18.427L468.044,274.559z M400.472,143.908L354.276,3.896 c-0.981-2.974-4.188-4.59-7.162-3.608l-39.611,13.069l-0.194,0.356l-0.332-0.182l-20.899,6.896l17.21,52.159l-23.573,7.778 l-17.209-52.159l-20.906,6.898l-0.158,0.344l-0.37-0.17l-39.354,12.985c-2.975,0.981-4.589,4.188-3.608,7.162l46.197,140.013 c0.981,2.974,4.188,4.59,7.162,3.608l145.398-47.974C399.838,150.089,401.454,146.882,400.472,143.908z">
                        </path>
                    </g>
                </g>
            </svg>
        </div>
        <div class="stateBar__number stateBar__4"
            [ngStyle]="{'animation-play-state': indexOfLastState() >= 3 ? 'running':''}">
            <svg fill="#ffffff" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 612 612" xml:space="preserve" stroke="#ffffff">
                <g id="SVGRepo_bgCarrier" stroke-width="0"></g>
                <g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
                <g id="SVGRepo_iconCarrier">
                    <g>
                        <path
                            d="M580.592,135.703L497.33,98.681L234.478,222.254v79.353l-45.854-20.389v-79.353L451.477,78.293l-88.287-39.256 c-11.822-5.256-31.166-5.256-42.987,0l-217.401,96.666c-17.319,7.701-31.453,29.51-31.409,48.464l0.339,143.238 c13.628-4.385,28.128-6.806,43.195-6.806c77.949,0,141.373,63.424,141.373,141.382c0,20.36-4.413,39.682-12.196,57.188 l76.764,32.815c11.436,4.888,30.146,4.889,41.583,0.002l216.905-92.694c17.614-7.527,32.062-29.357,32.107-48.513L612,184.166 C612.044,165.212,597.911,143.403,580.592,135.703z M496.655,300.16l29.458-62.149c2.974-6.273,10.429-9.892,13.413-6.49 l30.229,34.461c3.019,3.441-0.812,11.277-6.869,14.087l-12.724,5.903l-0.257,89.528c-0.012,3.912-3.467,8.569-7.708,10.399 l-19.049,8.223c-4.176,1.803-7.554,0.132-7.556-3.729l-0.064-88.354l-12.325,5.718C497.407,310.446,493.778,306.23,496.655,300.16z M388.039,350.943l26.773-59.078c2.7-5.959,9.604-9.312,12.422-6.012l28.532,33.423c2.85,3.336-0.628,10.779-6.237,13.381 l-11.782,5.466l0.76,85.727c0.033,3.749-3.135,8.163-7.066,9.86l-17.664,7.625c-3.873,1.672-7.042,0.025-7.087-3.675l-1.035-84.647 l-11.429,5.302C388.852,360.808,385.422,356.718,388.039,350.943z M583.911,399.271c-0.014,1.967-1.781,4.298-3.946,5.208 l-201.751,84.757c-1.883,0.791-3.432-0.037-3.459-1.851l-0.155-9.861c-0.028-1.817,1.476-3.942,3.361-4.745l202.111-86.097 c2.17-0.924,3.92-0.075,3.908,1.896L583.911,399.271z M114.925,347.054C51.454,347.054,0,398.508,0,461.979 c0,63.472,51.454,114.926,114.925,114.926s114.925-51.454,114.925-114.926C229.851,398.508,178.396,347.054,114.925,347.054z M190.021,438.367l-70.724,79.563c-3.484,3.919-8.335,5.932-13.221,5.932c-3.881,0-7.783-1.27-11.038-3.877l-44.202-35.361 c-7.624-6.095-8.862-17.223-2.759-24.846c6.095-7.632,17.228-8.867,24.851-2.763l31.093,24.872l59.574-67.02 c6.479-7.295,17.659-7.959,24.958-1.468C195.853,419.893,196.509,431.063,190.021,438.367z">
                        </path>
                    </g>
                </g>
            </svg>
        </div>
    </div>
    <div class="track-history__my-updates">
        Historial
        @for (pu of update(); track pu.id) {
        <article class="update">
            <span>{{pu.date.slice(0, 10)}}</span>
            <h4>{{pu.state}}</h4>
            De <span>{{pu.from}}</span> a <span>{{pu.to}}</span>
        </article>
        }
    </div>
</section>